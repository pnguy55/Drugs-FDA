(this["webpackJsonpkna-frontend-test"]=this["webpackJsonpkna-frontend-test"]||[]).push([[0],{33:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(10),c=a.n(i),r=(a(33),a(27)),o=a(7),l=a(22),d=a(23),h=a(2),u=a(28),b=a(26),j=a(11),p=a(24),O=a.n(p),g=a(25),m=a.n(g),v=a(0),x="ui segment",f="ui message",k="ui right labeled input",w="ui icon input",C="search icon",y="numbered list icon",D="ui compact selectable table",N="ui dropdown",R="ui toggle checkbox",P="ui active text loader",S=function(e,t){var a=t||0;"string"===typeof t&&(a=parseInt(t,10));for(var n=[],s=0;s<a;s+=1)n.push({sponsor:e[s].sponsor_name,application_number:e[s].application_number,product:void 0===e[s].products?"none":"".concat(Object(j.a)(new Set(e[s].products.map((function(e){return" ".concat(e.brand_name,"(").concat(e.dosage_form,") ")})))))});return n},I=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={useApi:!1,apiData:"",apiIdx:-1,numResults:0,data:[],filterValue:"",perPage:10,showOnRowClick:!0,changeOrder:!1,orderedHeaders:["sponsor","application_number","product"],hideUnordered:!1},n.setNewData=n.setNewData.bind(Object(h.a)(n)),n.setApiData=n.setApiData.bind(Object(h.a)(n)),n.changeData=n.changeData.bind(Object(h.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(h.a)(n)),n.handleOnPerPage=n.handleOnPerPage.bind(Object(h.a)(n)),n.handleCheckboxChange=n.handleCheckboxChange.bind(Object(h.a)(n)),n.onRowClick=n.onRowClick.bind(Object(h.a)(n)),n.handleOnChangeOrder=n.handleOnChangeOrder.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.state.numResults;var e=this;m.a.get("https://api.fda.gov/drug/drugsfda.json?limit=100").then((function(t){e.setApiData(t.data.results)})).catch((function(e){console.log(e)})).then((function(){console.log(e.state.apiData),e.setNewData()}))}},{key:"setNewData",value:function(){var e=this.state,t=e.apiData,a=e.numResults;this.setState({data:S(t,a)})}},{key:"setApiData",value:function(e){var t=e;this.setState({apiData:t,numResults:t.length})}},{key:"handleDelete",value:function(e,t,a){e.preventDefault(),e.stopPropagation();var n,s=this.state.data,i=a._id,c=a.id;i&&(n=s.findIndex((function(e){return e._id===i}))),c&&(n=s.findIndex((function(e){return e.id===c}))),s.splice(n,1),this.setState({data:s})}},{key:"handleOnChange",value:function(e){var t=this,a=e.target,n=a.name,s=a.value;this.setState(Object(o.a)({},n,s),(function(){"numResults"===n&&t.setNewData()}))}},{key:"handleOnChangeOrder",value:function(e,t){var a=this.state.orderedHeaders,n=a.length,s=t;t<0&&(s=n),t>=n&&(s=0);var i=Object(j.a)(a),c=i.splice(e,1)[0];i.splice(s,0,c),this.setState({orderedHeaders:i})}},{key:"handleOnPerPage",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(o.a)({},a,parseInt(n,10)))}},{key:"changeData",value:function(){var e=this.state.useApi;this.setState({useApi:!e,filterValue:"",perPage:0})}},{key:"handleCheckboxChange",value:function(e){var t=e.target,a=t.name,n=t.checked;this.setState(Object(o.a)({},a,n))}},{key:"onRowClick",value:function(e,t){var a=t.rowData,n=t.rowIndex,s=t.tableData;if(this.state.showOnRowClick){var i=a.sponsor;if(!i){var c=Object.keys(a),o=Object(r.a)(c,1)[0];i="Row number ".concat(o)}window.alert("You clicked ".concat(i,"'s row !"))}else console.log(a,s[n])}},{key:"render",value:function(){var e=this,t=this.state,a=t.useApi,n=t.apiData,s=t.data,i=t.filterValue,c=t.perPage,r=t.numResults,o=t.showOnRowClick,l=t.changeOrder,d=t.orderedHeaders,h=t.hideUnordered,u=Object(v.jsx)("span",{style:{display:"inline-block",margin:"10px"}});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:x,children:[Object(v.jsxs)("div",{className:w,children:[Object(v.jsx)("input",{type:"text",name:"filterValue",value:i,placeholder:"Filter results...",onChange:this.handleOnChange}),Object(v.jsx)("i",{className:C})]}),u,Object(v.jsxs)("select",{name:"perPage",value:c,className:N,onChange:this.handleOnPerPage,children:[Object(v.jsx)("option",{value:"0",children:"Per Page"}),Object(v.jsx)("option",{value:"10",children:"10"}),Object(v.jsx)("option",{value:"25",children:"25"}),Object(v.jsx)("option",{value:"50",children:"50"}),Object(v.jsx)("option",{value:"100",children:"100"})]}),u,!a&&Object(v.jsxs)("span",{children:[u,Object(v.jsxs)("div",{className:w,children:[Object(v.jsx)("input",{type:"text",name:"numResults",value:r,placeholder:"# Rows",onChange:this.handleOnChange,style:{width:"80px"}}),Object(v.jsx)("i",{className:y})]})]}),u,Object(v.jsxs)("div",{className:R,children:[Object(v.jsx)("input",{type:"checkbox",name:"showOnRowClick",onChange:this.handleCheckboxChange,checked:o}),Object(v.jsx)("label",{children:"Show alert on row click"})]}),u,Object(v.jsxs)("div",{className:R,children:[Object(v.jsx)("input",{type:"checkbox",name:"changeOrder",onChange:this.handleCheckboxChange,checked:l}),Object(v.jsx)("label",{children:"Change header order"})]})]}),l&&Object(v.jsx)("div",{className:x,children:d.map((function(t,a){return Object(v.jsxs)("div",{style:{marginBottom:"4px"},children:[Object(v.jsxs)("div",{className:k,style:{marginRight:"8px"},children:[Object(v.jsx)("input",{type:"text",name:t,value:a,placeholder:"Index",style:{width:"80px"},disabled:!0}),Object(v.jsx)("div",{className:"ui label",children:t})]}),Object(v.jsx)("button",{type:"button",onClick:function(){return e.handleOnChangeOrder(a,a-1)},children:"before"}),Object(v.jsx)("button",{type:"button",onClick:function(){return e.handleOnChangeOrder(a,a+1)},children:"after"})]},t)}))}),Object(v.jsx)("div",{className:f,children:Object(v.jsx)("p",{children:a?"While using async data, the state is controlled internally by the table":"Total rows in the table: ".concat(s.length)})}),Object(v.jsx)(O.a,{data:a?n:s,dataKey:"",orderedHeaders:d,hideUnordered:h,name:"fda-table",className:D,filterValue:i,perPage:c,sortable:!0,withToggles:!0,withLinks:!0,withHeader:!0,onRowClick:this.onRowClick,parseBool:{yesWord:"Indeed",noWord:"Nope"},dynamic:!0,emptyTable:Object(v.jsx)("div",{className:P,children:"Loading..."})})]})}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.7ec80027.chunk.js.map